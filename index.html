<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --accent: #bb86fc;
            --up-color: #ff5252;
            --down-color: #03dac6;
            --border-radius: 12px;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* é ‚éƒ¨è³‡è¨Šåˆ— */
        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-title h2 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* ç§»é™¤åŸæœ¬çš„å‰¯æ¨™é¡Œæ–‡å­—ï¼Œä¿æŒä¹¾æ·¨ */
        
        .weather-widget {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.05);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.95rem;
            min-width: 120px;
            justify-content: center;
        }

        /* è‚¡åƒ¹å„€è¡¨æ¿ */
        .stock-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .stock-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid #333;
            transition: transform 0.2s, border-color 0.2s;
        }

        .stock-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent);
        }

        .stock-name {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 5px;
        }

        .stock-price {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stock-change {
            font-size: 0.9rem;
        }

        .up { color: var(--up-color); }
        .down { color: var(--down-color); }

        /* æ–°èå€å¡Š */
        .news-section {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        .news-header h3 {
            margin: 0;
            color: var(--text-main);
        }
        
        .refresh-timer {
            font-size: 0.85rem;
            color: var(--text-sub);
            background: rgba(255,255,255,0.05);
            padding: 4px 10px;
            border-radius: 4px;
        }

        .timer-count {
            color: var(--accent);
            font-weight: bold;
            font-family: monospace;
            font-size: 1rem;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .news-category h4 {
            color: var(--accent);
            margin-top: 0;
            margin-bottom: 12px;
            font-size: 1.15rem;
            border-left: 3px solid var(--accent);
            padding-left: 10px;
        }

        .news-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .news-list li {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: baseline;
        }

        .news-list li:last-child {
            border-bottom: none;
        }

        .news-time {
            font-size: 0.8rem;
            color: var(--text-sub);
            margin-right: 10px;
            min-width: 40px;
        }

        .news-link {
            text-decoration: none;
            color: var(--text-main);
            font-size: 0.95rem;
            transition: color 0.2s;
            line-height: 1.4;
        }

        .news-link:hover {
            color: var(--accent);
        }

        @media (max-width: 600px) {
            .header-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header-section">
            <div class="header-title">
                <h2>ğŸ“Š é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</h2>
            </div>
            
            <div class="weather-widget" id="weather-box">
                <span>ğŸ“ å®šä½ä¸­...</span>
            </div>
        </div>

        <div class="stock-grid" id="stock-container">
            </div>

        <div class="news-section">
            <div class="news-header">
                <h3>ğŸ“° ç¶œåˆæ–°èå¿«è¨Š</h3>
                <span class="refresh-timer">
                    <span id="timer-count" class="timer-count">25</span> ç§’å¾Œæ›´æ–°
                </span>
            </div>
            <div class="news-grid" id="news-container">
                </div>
        </div>
    </div>

    <script>
        // --- 1. è‚¡ç¥¨æ•¸æ“š (åˆå§‹æ•¸æ“š) ---
        let stocks = [
            { id: '2330', name: 'å°ç©é›»', price: 1080, change: 15, pct: 1.41 },
            { id: '2317', name: 'é´»æµ·', price: 212.5, change: -1.5, pct: -0.70 },
            { id: '2454', name: 'è¯ç™¼ç§‘', price: 1380, change: 20, pct: 1.47 },
            { id: '0050', name: 'å…ƒå¤§å°ç£50', price: 188.6, change: 1.2, pct: 0.64 },
            { id: '^USDTWD', name: 'ç¾å…ƒ/å°å¹£', price: 32.45, change: 0.05, pct: 0.15 }
        ];

        // æ¨¡æ“¬è‚¡åƒ¹è·³å‹•
        function updateStockPrices() {
            stocks = stocks.map(stock => {
                const fluctuation = (Math.random() - 0.5) * 2; // -1 to 1
                const newPrice = Number((stock.price + fluctuation).toFixed(2));
                const newChange = Number((stock.change + fluctuation).toFixed(2));
                return { ...stock, price: newPrice, change: newChange };
            });
            renderStocks();
        }

        function renderStocks() {
            const container = document.getElementById('stock-container');
            let html = '';
            
            stocks.forEach(stock => {
                const isUp = stock.change > 0;
                const colorClass = isUp ? 'up' : 'down';
                const sign = isUp ? '+' : '';
                const arrow = isUp ? 'â–²' : 'â–¼';
                
                html += `
                <div class="stock-card">
                    <div class="stock-name">${stock.name} ${stock.id}</div>
                    <div class="stock-price ${colorClass}">${stock.price.toFixed(2)}</div>
                    <div class="stock-change ${colorClass}">
                        ${arrow} ${sign}${stock.change.toFixed(2)} (${sign}${stock.pct}%)
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;
        }

        // --- 2. æ–°èæ•¸æ“š ---
        const newsData = [
            {
                category: "åœ‹éš›è²¡ç¶“",
                items: [
                    { time: "14:30", title: "è¯æº–æœƒæš—ç¤ºé™æ¯è¨Šè™Ÿï¼Œç¾è‚¡æœŸè²¨ç›¤å‰èµ°æš" },
                    { time: "13:50", title: "æ¯”ç‰¹å¹£çªç ´æ–°é«˜é»ï¼ŒåŠ å¯†è²¨å¹£å¸‚å ´ç†±çµ¡" },
                    { time: "12:15", title: "æ—¥åœ“åŒ¯ç‡æŒçºŒéœ‡ç›ªï¼Œæ—¥æœ¬å¤®è¡Œå¯†åˆ‡é—œæ³¨" }
                ]
            },
            {
                category: "å°è‚¡å‹•æ…‹",
                items: [
                    { time: "14:45", title: "å°ç©é›»å°¾ç›¤çˆ†é‡ï¼Œå¤§ç›¤ç«™ç©© 23000 é»" },
                    { time: "14:10", title: "å¤–è³‡ä»Šæ—¥è²·è¶… 150 å„„ï¼Œä¸‰å¤§æ³•äººåŒæ­¥åšå¤š" },
                    { time: "13:30", title: "AI ä¾›æ‡‰éˆçºŒå¼·ï¼Œå»£é”ã€ç·¯å‰µæ¼²å¹…äº®çœ¼" }
                ]
            },
            {
                category: "ç¤¾æœƒç„¦é»",
                items: [
                    { time: "11:20", title: "æ·é‹æ–°ç·šå¹´åº•æœ‰æœ›é€šè»Šï¼Œäº¤é€šéƒ¨é€²è¡Œå±¥å‹˜" },
                    { time: "10:45", title: "æµæ„Ÿç–«è‹—é–‹æ‰“ï¼Œç–¾ç®¡ç½²å‘¼ç±²æ°‘çœ¾è¸´èºæ¥ç¨®" },
                    { time: "09:30", title: "åŸºæœ¬å·¥è³‡å¯©è­°çµæœå‡ºçˆï¼Œæ˜å¹´èª¿æ¼² 4.5%" }
                ]
            },
            {
                category: "ç”Ÿæ´»æ¶ˆè²»",
                items: [
                    { time: "12:00", title: "é€±æœ«é‹’é¢æ¥è¿‘ï¼Œå…¨å°è½‰é›¨æ°£æº«é©Ÿé™" },
                    { time: "11:30", title: "é€£é–å’–å•¡è²·ä¸€é€ä¸€ï¼Œæ°‘çœ¾æ’éšŠæ¶å„ªæƒ " },
                    { time: "10:15", title: "æ±äº¬æ—…éŠæ”»ç•¥ï¼š2025 å¿…å»æ–°æ™¯é»æ‡¶äººåŒ…" }
                ]
            }
        ];

        function renderNews() {
            const container = document.getElementById('news-container');
            let html = '';
            
            newsData.forEach(cat => {
                let listHtml = '';
                cat.items.forEach(item => {
                    listHtml += `
                        <li>
                            <span class="news-time">${item.time}</span>
                            <a href="#" class="news-link">${item.title}</a>
                        </li>
                    `;
                });

                html += `
                    <div class="news-category">
                        <h4>${cat.category}</h4>
                        <ul class="news-list">
                            ${listHtml}
                        </ul>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        // --- 3. è‡ªå‹•å®šä½èˆ‡å¤©æ°£ ---
        function initWeather() {
            const weatherBox = document.getElementById('weather-box');
            
            if (!navigator.geolocation) {
                weatherBox.innerHTML = '<span>âŒ ä¸æ”¯æ´å®šä½</span>';
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const temp = Math.floor(Math.random() * (32 - 24) + 24); 
                    const conditions = ['â˜€ï¸ æ™´æœ—', 'â˜ï¸ å¤šé›²', 'ğŸŒ§ï¸ çŸ­æš«é›¨'];
                    const cond = conditions[Math.floor(Math.random() * conditions.length)];
                    weatherBox.innerHTML = `<span>${cond} ${temp}Â°C (å·²å®šä½)</span>`;
                },
                (error) => {
                    let msg = 'ç„¡æ³•å–å¾—ä½ç½®';
                    if (error.code === 1) msg = 'ğŸ“ éœ€å…è¨±å®šä½æ¬Šé™'; 
                    weatherBox.innerHTML = `<span>${msg}</span>`;
                }
            );
        }

        // --- 4. å€’æ•¸è¨ˆæ™‚å™¨ (ä¿®æ”¹é» 2 & 3) ---
        let countdown = 25; // è¨­å®š 25 ç§’
        
        function startTimer() {
            const timerElement = document.getElementById('timer-count');
            
            setInterval(() => {
                countdown--;
                timerElement.innerText = countdown;

                if (countdown <= 0) {
                    // æ™‚é–“åˆ°ï¼šåˆ·æ–°æ•¸æ“š
                    updateStockPrices();
                    // æ¨¡æ“¬æ–°èæ™‚é–“æ›´æ–° (å¯é¸)
                    // é‡ç½®å€’æ•¸
                    countdown = 25;
                    timerElement.innerText = countdown;
                }
            }, 1000);
        }

        // --- åˆå§‹åŒ– ---
        window.onload = function() {
            renderStocks();
            renderNews();
            initWeather();
            startTimer(); // å•Ÿå‹•å€’æ•¸
        };

    </script>
</body>
</html>
