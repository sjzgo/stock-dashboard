<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background-color: #f4f4f4; /* æ·ºç°ç™½èƒŒæ™¯ */
            color: #333; /* æ·±é»‘æ–‡å­— */
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #fff; /* ä¸»å…§å®¹ç™½åº• */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        /* æ¨™é¡Œå€å¡Š */
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .header h2 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.8em;
        }

        /* å¤©æ°£èˆ‡å®šä½ */
        .weather-info {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-size: 0.9em;
            background-color: #e8f4fc;
            padding: 8px;
            border-radius: 20px;
            display: inline-block;
        }

        /* è‚¡åƒ¹çœ‹æ¿ */
        .stock-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stock-item {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            transition: transform 0.2s;
        }

        .stock-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stock-name {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .stock-price {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .up { color: #e74c3c; } /* æ¼²ï¼šç´… */
        .down { color: #27ae60; } /* è·Œï¼šç¶  */
        .neutral { color: #7f8c8d; }

        /* æ–°èå€å¡Š */
        .news-section {
            margin-top: 20px;
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-left: 5px solid #3498db; /* è—è‰²è£é£¾ç·š */
            padding-left: 10px;
        }

        .news-header h3 {
            margin: 0;
            color: #2c3e50;
        }

        .timer {
            font-size: 0.9em;
            color: #e67e22; /* æ©˜è‰²å€’æ•¸ */
            font-weight: bold;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* å…©æ¬„æ’åˆ— */
            gap: 20px;
        }

        .news-category {
            background-color: #fafafa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .news-category h4 {
            margin-top: 0;
            color: #3498db;
            border-bottom: 1px solid #ddd;
            padding-bottom: 8px;
            margin-bottom: 10px;
        }

        .news-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .news-list li {
            padding: 8px 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
        }

        .news-list li:last-child {
            border-bottom: none;
        }

        .time-tag {
            color: #999;
            font-size: 0.85em;
            margin-right: 8px;
            min-width: 40px;
        }

        .news-link {
            text-decoration: none;
            color: #333;
            font-size: 0.95em;
        }

        .news-link:hover {
            color: #3498db;
            text-decoration: underline;
        }

        @media (max-width: 600px) {
            .news-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2>ğŸ“Š é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</h2>
        <div class="weather-info" id="weather-box">
            ğŸ“ å®šä½ä¸­ï¼Œè«‹ç¨å€™...
        </div>
    </div>

    <div class="stock-panel" id="stock-container">
        </div>

    <div class="news-section">
        <div class="news-header">
            <h3>ğŸ“° å³æ™‚æ–°èå¿«è¨Š</h3>
            <span class="timer"><span id="countdown">25</span>ç§’å¾Œæ›´æ–°</span>
        </div>
        
        <div class="news-grid" id="news-container">
            </div>
    </div>
</div>

<script>
    // --- 1. è‚¡ç¥¨æ•¸æ“š ---
    let stocks = [
        { id: '2330', name: 'å°ç©é›»', price: 1080, change: 15, pct: 1.41 },
        { id: '2317', name: 'é´»æµ·', price: 212.5, change: -1.5, pct: -0.70 },
        { id: '2454', name: 'è¯ç™¼ç§‘', price: 1380, change: 20, pct: 1.47 },
        { id: '0050', name: 'å…ƒå¤§å°ç£50', price: 188.6, change: 1.2, pct: 0.64 },
        { id: '^USDTWD', name: 'ç¾å…ƒ/å°å¹£', price: 32.45, change: 0.05, pct: 0.15 }
    ];

    function renderStocks() {
        const container = document.getElementById('stock-container');
        let html = '';
        
        stocks.forEach(stock => {
            const isUp = stock.change > 0;
            const colorClass = isUp ? 'up' : 'down';
            const sign = isUp ? '+' : '';
            const arrow = isUp ? 'â–²' : 'â–¼';
            
            html += `
            <div class="stock-item">
                <div class="stock-name">${stock.name} ${stock.id}</div>
                <div class="stock-price ${colorClass}">${stock.price.toFixed(2)}</div>
                <div style="font-size: 0.9em; color: ${isUp ? '#e74c3c' : '#27ae60'}">
                    ${arrow} ${sign}${stock.change.toFixed(2)} (${sign}${stock.pct}%)
                </div>
            </div>
            `;
        });
        container.innerHTML = html;
    }

    function updateStockPrices() {
        stocks = stocks.map(stock => {
            const fluctuation = (Math.random() - 0.5) * 2;
            const newPrice = Number((stock.price + fluctuation).toFixed(2));
            const newChange = Number((stock.change + fluctuation).toFixed(2));
            return { ...stock, price: newPrice, change: newChange };
        });
        renderStocks();
    }

    // --- 2. æ–°èæ•¸æ“š (å››å¤§åˆ†é¡) ---
    const newsData = [
        {
            category: "åœ‹éš›è²¡ç¶“",
            items: [
                { time: "14:30", title: "è¯æº–æœƒæš—ç¤ºé™æ¯è¨Šè™Ÿï¼Œç¾è‚¡æœŸè²¨ç›¤å‰èµ°æš" },
                { time: "13:50", title: "æ¯”ç‰¹å¹£çªç ´æ–°é«˜é»ï¼ŒåŠ å¯†è²¨å¹£å¸‚å ´ç†±çµ¡" },
                { time: "12:15", title: "æ—¥åœ“åŒ¯ç‡æŒçºŒéœ‡ç›ªï¼Œæ—¥æœ¬å¤®è¡Œå¯†åˆ‡é—œæ³¨" }
            ]
        },
        {
            category: "å°è‚¡å‹•æ…‹",
            items: [
                { time: "14:45", title: "å°ç©é›»å°¾ç›¤çˆ†é‡ï¼Œå¤§ç›¤ç«™ç©© 23000 é»" },
                { time: "14:10", title: "å¤–è³‡ä»Šæ—¥è²·è¶… 150 å„„ï¼Œä¸‰å¤§æ³•äººåŒæ­¥åšå¤š" },
                { time: "13:30", title: "AI ä¾›æ‡‰éˆçºŒå¼·ï¼Œå»£é”ã€ç·¯å‰µæ¼²å¹…äº®çœ¼" }
            ]
        },
        {
            category: "ç¤¾æœƒç„¦é»",
            items: [
                { time: "11:20", title: "æ·é‹æ–°ç·šå¹´åº•æœ‰æœ›é€šè»Šï¼Œäº¤é€šéƒ¨é€²è¡Œå±¥å‹˜" },
                { time: "10:45", title: "æµæ„Ÿç–«è‹—é–‹æ‰“ï¼Œç–¾ç®¡ç½²å‘¼ç±²æ°‘çœ¾è¸´èºæ¥ç¨®" },
                { time: "09:30", title: "åŸºæœ¬å·¥è³‡å¯©è­°çµæœå‡ºçˆï¼Œæ˜å¹´èª¿æ¼² 4.5%" }
            ]
        },
        {
            category: "ç”Ÿæ´»æ¶ˆè²»",
            items: [
                { time: "12:00", title: "é€±æœ«é‹’é¢æ¥è¿‘ï¼Œå…¨å°è½‰é›¨æ°£æº«é©Ÿé™" },
                { time: "11:30", title: "é€£é–å’–å•¡è²·ä¸€é€ä¸€ï¼Œæ°‘çœ¾æ’éšŠæ¶å„ªæƒ " },
                { time: "10:15", title: "æ±äº¬æ—…éŠæ”»ç•¥ï¼š2025 å¿…å»æ–°æ™¯é»æ‡¶äººåŒ…" }
            ]
        }
    ];

    function renderNews() {
        const container = document.getElementById('news-container');
        let html = '';
        
        newsData.forEach(cat => {
            let listHtml = '';
            cat.items.forEach(item => {
                listHtml += `
                    <li>
                        <span class="time-tag">${item.time}</span>
                        <a href="#" class="news-link">${item.title}</a>
                    </li>
                `;
            });

            html += `
                <div class="news-category">
                    <h4>${cat.category}</h4>
                    <ul class="news-list">
                        ${listHtml}
                    </ul>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    // --- 3. è‡ªå‹•å®šä½ ---
    function initWeather() {
        const weatherBox = document.getElementById('weather-box');
        
        if (!navigator.geolocation) {
            weatherBox.innerHTML = 'âŒ æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å®šä½åŠŸèƒ½';
            return;
        }

        // é é¢è¼‰å…¥å¾Œè‡ªå‹•è©¢å•
        navigator.geolocation.getCurrentPosition(
            (position) => {
                // æˆåŠŸå–å¾—å®šä½ (æ¨¡æ“¬å¤©æ°£)
                const temp = Math.floor(Math.random() * (32 - 24) + 24); 
                const conditions = ['â˜€ï¸ æ™´æœ—', 'â˜ï¸ å¤šé›²', 'ğŸŒ§ï¸ çŸ­æš«é›¨'];
                const cond = conditions[Math.floor(Math.random() * conditions.length)];
                
                weatherBox.innerHTML = `ğŸ“ å·²å®šä½ï¼šå°åŒ—å¸‚ (${cond} ${temp}Â°C)`;
                weatherBox.style.backgroundColor = "#e8f8f5"; // æˆåŠŸè®Šç¶ è‰²ç³»åº•
                weatherBox.style.color = "#27ae60";
            },
            (error) => {
                // å¤±æ•—æˆ–æ‹’çµ•
                console.error("å®šä½å¤±æ•—:", error);
                weatherBox.innerHTML = 'âš ï¸ ç„¡æ³•å–å¾—ä½ç½® (è«‹å…è¨±å®šä½æ¬Šé™)';
                weatherBox.style.backgroundColor = "#fdedec"; // å¤±æ•—è®Šç´…è‰²ç³»åº•
            }
        );
    }

    // --- 4. 25ç§’å€’æ•¸è¨ˆæ™‚å™¨ ---
    let timeLeft = 25; // ä¿®æ”¹ 3: 25ç§’
    function startTimer() {
        const timerElem = document.getElementById('countdown');
        
        setInterval(() => {
            timeLeft--;
            timerElem.innerText = timeLeft;
            
            if (timeLeft <= 0) {
                // æ™‚é–“åˆ°ï¼šæ›´æ–°æ•¸æ“š
                updateStockPrices();
                // é‡ç½®
                timeLeft = 25;
                timerElem.innerText = timeLeft;
            }
        }, 1000);
    }

    // --- åˆå§‹åŒ– ---
    window.onload = function() {
        renderStocks();
        renderNews();
        initWeather(); // æ™ºæ…§å®šä½è·³è½‰ (è‡ªå‹•åŸ·è¡Œ)
        startTimer();
    };
</script>

</body>
</html>
