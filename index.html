<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --accent: #bb86fc;
            --up-color: #ff5252;
            --down-color: #03dac6;
            --border-radius: 12px;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* é ‚éƒ¨è³‡è¨Šåˆ— (æ¨™é¡Œ + å¤©æ°£) */
        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-title h2 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--accent);
        }

        .weather-widget {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.05);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.95rem;
        }

        /* è‚¡åƒ¹å„€è¡¨æ¿ */
        .stock-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .stock-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid #333;
            transition: transform 0.2s;
        }

        .stock-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent);
        }

        .stock-name {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 5px;
        }

        .stock-price {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stock-change {
            font-size: 0.9rem;
        }

        .up { color: var(--up-color); }
        .down { color: var(--down-color); }

        /* æ–°èå€å¡Š */
        .news-section {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        .news-header h3 {
            margin: 0;
            color: var(--text-main);
        }

        .news-grid {
            display: grid;
            /* ä¿®æ”¹é» 1: æ”¹ç‚ºå…©æ¬„ä½ˆå±€ */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .news-category h4 {
            color: var(--accent);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .news-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .news-list li {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #333;
        }

        .news-list li:last-child {
            border-bottom: none;
        }

        .news-time {
            font-size: 0.8rem;
            color: var(--text-sub);
            margin-right: 8px;
        }

        .news-link {
            text-decoration: none;
            color: var(--text-main);
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .news-link:hover {
            color: var(--accent);
        }

        @media (max-width: 600px) {
            .header-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header-section">
            <div class="header-title">
                <h2>ğŸ“Š é»‘å¯¶ç«™é•·è‚¡ç¥¨çœ‹æ¿</h2>
                <span style="font-size: 0.8rem; color: var(--text-sub);">å³æ™‚å¸‚å ´è¿½è¹¤ç³»çµ±</span>
            </div>
            
            <div class="weather-widget" id="weather-box">
                <span>ğŸ“ å®šä½ä¸­...</span>
            </div>
        </div>

        <div class="stock-grid" id="stock-container">
            </div>

        <div class="news-section">
            <div class="news-header">
                <h3>ğŸ“° å¸‚å ´å¿«è¨Š</h3>
                <span style="font-size: 0.85rem; color: var(--text-sub);">æœ€å¾Œæ›´æ–°: <span id="update-time"></span></span>
            </div>
            <div class="news-grid" id="news-container">
                </div>
        </div>
    </div>

    <script>
        // --- 1. è‚¡ç¥¨æ•¸æ“š (æ¨¡æ“¬ API) ---
        const stocks = [
            { id: '2330', name: 'å°ç©é›»', price: 1080, change: 15, pct: 1.41 },
            { id: '2317', name: 'é´»æµ·', price: 212.5, change: -1.5, pct: -0.70 },
            { id: '2454', name: 'è¯ç™¼ç§‘', price: 1380, change: 20, pct: 1.47 },
            { id: '0050', name: 'å…ƒå¤§å°ç£50', price: 188.6, change: 1.2, pct: 0.64 },
            { id: '^USDTWD', name: 'ç¾å…ƒ/å°å¹£', price: 32.45, change: 0.05, pct: 0.15 }
        ];

        function renderStocks() {
            const container = document.getElementById('stock-container');
            let html = '';
            
            stocks.forEach(stock => {
                const isUp = stock.change > 0;
                const colorClass = isUp ? 'up' : 'down';
                const sign = isUp ? '+' : '';
                const arrow = isUp ? 'â–²' : 'â–¼';
                
                html += `
                <div class="stock-card">
                    <div class="stock-name">${stock.name} ${stock.id}</div>
                    <div class="stock-price ${colorClass}">${stock.price}</div>
                    <div class="stock-change ${colorClass}">
                        ${arrow} ${sign}${stock.change} (${sign}${stock.pct}%)
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;
        }

        // --- 2. æ–°èæ•¸æ“š (ä¿®æ”¹é» 1: å…©å€å…±å…­æ¢) ---
        const newsData = [
            {
                category: "åœ‹éš›è²¡ç¶“",
                items: [
                    { time: "14:30", title: "è¯æº–æœƒæš—ç¤ºé™æ¯è¨Šè™Ÿï¼Œç¾è‚¡æœŸè²¨ç›¤å‰èµ°æš" },
                    { time: "14:15", title: "AI æ™¶ç‰‡éœ€æ±‚å¼·å‹ï¼ŒNVIDIA è‚¡åƒ¹å†å‰µæ–°é«˜" },
                    { time: "13:50", title: "æ­æ´²å¤®è¡Œç¶­æŒåˆ©ç‡ä¸è®Šï¼Œé—œæ³¨é€šè†¨æ•¸æ“š" }
                ]
            },
            {
                category: "å°è‚¡å‹•æ…‹",
                items: [
                    { time: "14:45", title: "å°ç©é›»å°¾ç›¤çˆ†é‡ï¼Œå¤§ç›¤ç«™ç©© 23000 é»" },
                    { time: "14:10", title: "å¤–è³‡ä»Šæ—¥è²·è¶… 150 å„„ï¼Œä¸‰å¤§æ³•äººåŒæ­¥åšå¤š" },
                    { time: "13:30", title: "èˆªé‹è‚¡è¡¨ç¾å¼·å‹¢ï¼Œé•·æ¦®ã€é™½æ˜æ¼²å¹…é€¾ 3%" }
                ]
            }
        ];

        function renderNews() {
            const container = document.getElementById('news-container');
            let html = '';
            
            newsData.forEach(cat => {
                let listHtml = '';
                cat.items.forEach(item => {
                    listHtml += `
                        <li>
                            <span class="news-time">${item.time}</span>
                            <a href="#" class="news-link">${item.title}</a>
                        </li>
                    `;
                });

                html += `
                    <div class="news-category">
                        <h4>${cat.category}</h4>
                        <ul class="news-list">
                            ${listHtml}
                        </ul>
                    </div>
                `;
            });
            container.innerHTML = html;
            
            // æ›´æ–°æ™‚é–“
            const now = new Date();
            document.getElementById('update-time').innerText = 
                `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        }

        // --- 3. è‡ªå‹•å®šä½èˆ‡å¤©æ°£ (ä¿®æ”¹é» 2: è‡ªå‹•åŸ·è¡Œ) ---
        function initWeather() {
            const weatherBox = document.getElementById('weather-box');
            
            if (!navigator.geolocation) {
                weatherBox.innerHTML = '<span>âŒ ä¸æ”¯æ´å®šä½</span>';
                return;
            }

            // ç›´æ¥è«‹æ±‚å®šä½ï¼Œä¸éœ€è¦æŒ‰éˆ•è§¸ç™¼
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    // æˆåŠŸç²å–ç¶“ç·¯åº¦ (é€™è£¡æ¨¡æ“¬å¤©æ°£æ•¸æ“š)
                    // const lat = position.coords.latitude;
                    // const lon = position.coords.longitude;
                    
                    // æ¨¡æ“¬ API å›å‚³
                    const temp = Math.floor(Math.random() * (32 - 24) + 24); // éš¨æ©Ÿ 24-32åº¦
                    const conditions = ['â˜€ï¸ æ™´æœ—', 'â˜ï¸ å¤šé›²', 'ğŸŒ§ï¸ çŸ­æš«é›¨'];
                    const cond = conditions[Math.floor(Math.random() * conditions.length)];
                    
                    weatherBox.innerHTML = `<span>${cond} ${temp}Â°C (å·²å®šä½)</span>`;
                },
                (error) => {
                    // å¤±æ•—è™•ç†
                    console.error("å®šä½å¤±æ•—:", error);
                    let msg = 'ç„¡æ³•å–å¾—ä½ç½®';
                    if (error.code === 1) msg = 'ğŸ“ éœ€å…è¨±å®šä½æ¬Šé™'; // ä½¿ç”¨è€…æ‹’çµ•
                    weatherBox.innerHTML = `<span>${msg}</span>`;
                }
            );
        }

        // --- åˆå§‹åŒ– ---
        window.onload = function() {
            renderStocks();
            renderNews();
            initWeather(); // é é¢è¼‰å…¥å³åŸ·è¡Œå®šä½
        };

    </script>
</body>
</html>
